<div class="padding-zero" style="height:100%;">
    <div class="social-plugin social-Report" style="height: 100%;">
        <div
            class="post-section backgroundColorTheme">
            <div class="social-item">
                <div class="head">
                    <div class="social-profile-photo">
                        <div class="media-holder pull-left">
                            <img ng-if="Report.post.userId && Report.post.userDetails.imageUrl"
                                load-image="1x1" data-final-src="{{Report.post.userDetails.imageUrl}}" crop-width="40"
                                crop-height="40" crop-type="crop">
                            <img ng-if="!(Report.post.userId && Report.post.userDetails.imageUrl)"
                                load-image="1x1" data-final-src="../../../styles/media/avatar-placeholder.png"
                                data-img-type="local" crop-width="40" crop-height="40" crop-type="default">
                        </div>
                        <div class="padding-half-rem padding-top-zero padding-bottom-zero">
                            <div class="social-copy">
                                <p class="text-primary ellipsis">
                                    <a>
                                        {{Report.SocialItems.getUserName(Report.post.userDetails)}}
                                    </a>
                                </p>
                                <div ng-if="Report.post.createdOn">
                                    <p class="time-ago opacity-seventy">
                                        {{Report.getDuration(Report.post.createdOn) | convertTimeFormat}}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="post-text copy" style="word-wrap: break-word">
                    <p class="margin-zero" ng-bind-html="Report.util.injectAnchors(Report.post.text) | newLine"></p>
                </div>
                <div class="plugin-banner clearfix" ng-if="Report.post.imageUrl">
                    <div class="plugin-slide text-center" style="max-height: none !important;">
                        <div ng-repeat="image in Report.post.imageUrl track by $index" class="post-images-container">
                            <img ng-src="{{Report.util.resizeImage(image)}}" data-alt="Post image" ng-click="Report.SocialItems.previewImage($event, $index, Report.post.imageUrl)">
                        </div>
                    </div>

                </div>
                <div class="footer">
                    <div class="status-footer">
                        <a class="likes social-icon ng-cloak">
                            <i class="material-icons-outlined" aria-hidden="true">thumb_up_off_alt</i>
                            <span class="iconsTheme iconsFont">{{Report.post.likes.length}}</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="bottom-logo-container" ng-if="Report.bottomLogo && Report.bottomLogo.enabled && Report.bottomLogo.sponsorLogo" ng-click="Report.handleLogoClick()">
    <div ng-class="{'bottom-banner-mode': Report.bottomLogo.displayMode === 'banner', 'bottom-logo-mode': Report.bottomLogo.displayMode !== 'banner'}" ng-style="Report.getBannerStyle()">
        <img ng-src="{{Report.bottomLogo.sponsorLogo}}" alt="Banner" onerror="console.error('[BannerError] Failed to load banner:', this.src);">
    </div>
</div>

<!-- Image Gallery Modal -->
<div id="imageGalleryModal" class="image-gallery-modal" ng-show="Report.imageGallery.show" ng-click="Report.closeImageGallery($event)">
    <div class="gallery-close" ng-click="Report.closeImageGallery($event)">
        <span class="material-icons">close</span>
    </div>

    <div class="gallery-download" ng-click="Report.downloadImage($event)">
        <span class="material-icons">download</span>
    </div>

    <div class="gallery-counter">
        {{Report.imageGallery.currentIndex + 1}} / {{Report.imageGallery.images.length}}
    </div>

    <div class="gallery-content" ng-click="$event.stopPropagation()">
        <div class="gallery-prev" ng-show="Report.imageGallery.images.length > 1" ng-click="Report.prevImage($event)">
            <span class="material-icons">chevron_left</span>
        </div>

        <div class="gallery-image-container">
            <img ng-src="{{Report.imageGallery.images[Report.imageGallery.currentIndex]}}"
                 alt="Gallery image"
                 class="gallery-image">
        </div>

        <div class="gallery-next" ng-show="Report.imageGallery.images.length > 1" ng-click="Report.nextImage($event)">
            <span class="material-icons">chevron_right</span>
        </div>
    </div>

    <div class="gallery-thumbnails" ng-show="Report.imageGallery.images.length > 1">
        <div ng-repeat="img in Report.imageGallery.images track by $index"
             class="gallery-thumbnail"
             ng-class="{'active': $index === Report.imageGallery.currentIndex}"
             ng-click="Report.goToImage($event, $index)">
            <img ng-src="{{Report.util.resizeImage(img)}}" alt="Thumbnail {{$index + 1}}">
        </div>
    </div>
</div>
